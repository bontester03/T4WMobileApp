<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="T4sV1.Views.HealthScorePage"
             Title="Health Scores"
             BackgroundColor="#FAFAFA">

    <ScrollView>
        <ScrollView.Background>
            <!-- StartPoint defaults to (0,0) -->
            <LinearGradientBrush EndPoint="0,1">
                <GradientStop Color="#e9fdb6" Offset="0.1" />
                <GradientStop Color="#9dc052" Offset="1.0" />
            </LinearGradientBrush>
        </ScrollView.Background>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Header -->
            <Label Text="ðŸ©º Health Score History"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="#2C3E50"
                   HorizontalOptions="Center" />

            <!-- Health Score Grid Cards -->
            <CollectionView ItemsSource="{Binding HealthScores}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Stroke="#D1D1D1"
                                StrokeThickness="1"
                                
                                StrokeShape="RoundRectangle 12"
                                Padding="20"
                                Margin="0,10"
                                BackgroundColor="#f6ffe4">
                            <Border.Shadow>
                                <Shadow Brush="Black"
                                        Offset="2,2"
                                        Radius="4"
                                        Opacity="0.15" />
                            </Border.Shadow>

                            <Grid ColumnSpacing="10" RowSpacing="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Text="ðŸ“… Date:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="0" Grid.Column="1" Text="{Binding DateRecorded, StringFormat='{0:dd MMM yyyy}'}" TextColor="#2C3E50" />

                                <Label Grid.Row="1" Grid.Column="0" Text="ðŸš´ Activity:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="1" Grid.Column="1" Text="{Binding PhysicalActivityDescription}" TextColor="#2C3E50" />

                                <Label Grid.Row="2" Grid.Column="0" Text="ðŸ³ Breakfast:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="2" Grid.Column="1" Text="{Binding BreakfastDescription}" TextColor="#2C3E50" />

                                <Label Grid.Row="3" Grid.Column="0" Text="ðŸ¥¦ Fruit and Veg:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="3" Grid.Column="1" Text="{Binding FruitVegDescription}" TextColor="#2C3E50" />

                                <Label Grid.Row="4" Grid.Column="0" Text="ðŸ¬ Sweets:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="4" Grid.Column="1" Text="{Binding SweetSnacksDescription}" TextColor="#2C3E50" />

                                <Label Grid.Row="5" Grid.Column="0" Text="ðŸŸ Fatty Foods:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="5" Grid.Column="1" Text="{Binding FattyFoodsDescription}" TextColor="#2C3E50" />

                                <Label Grid.Row="6" Grid.Column="0" Text="â­ Total Score:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="6" Grid.Column="1" Text="{Binding TotalScore}" TextColor="DarkGreen" FontAttributes="Bold" />

                                <Label Grid.Row="7" Grid.Column="0" Text="ðŸ· Status:" FontAttributes="Bold" TextColor="#34495E" />
                                <Label Grid.Row="7" Grid.Column="1" Text="{Binding HealthClassification}" TextColor="#0077B6" FontAttributes="Italic" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
